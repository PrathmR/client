import{j as e,m as s}from"./framer-motion-BBUa6XRi.js";import{r as t,L as a}from"./react-vendor-JRUwHvIr.js";import{a as l,A as r}from"./index-m6j2drX8.js";import{C as o,S as i,d as n,l as c,m,n as d}from"./ui-vendor-B2uU1U_S.js";const x=()=>{const[a,n]=t.useState([]),[c,m]=t.useState(!0),[d,x]=t.useState(""),[h,y]=t.useState("All"),[u,f]=t.useState("All"),{showNotification:g}=l();t.useEffect(()=>{j()},[]);const j=async()=>{try{const{data:e}=await r.get("/events");e.events.forEach(e=>{}),n(e.events)}catch(e){g({title:"Loading Failed",message:"Failed to load events",icon:o,type:"error"})}finally{m(!1)}},b=a.filter(e=>{const s=e.name.toLowerCase().includes(d.toLowerCase())||e.description.toLowerCase().includes(d.toLowerCase()),t="All"===h||e.category===h,a="All"===u||e.department===u;return s&&t&&a}),v=b.reduce((e,s)=>{const t=s.department||"Other";return e[t]||(e[t]=[]),e[t].push(s),e},{}),N=Object.keys(v).sort();return e.jsxs("div",{className:"min-h-screen pt-20 pb-12 relative overflow-hidden",children:[e.jsx("section",{className:"relative py-16 overflow-hidden",children:e.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",style:{color:"#5C4033",fontFamily:"Georgia, serif"},children:"Explore Events"}),e.jsx("p",{className:"text-base md:text-lg max-w-3xl mx-auto leading-relaxed",style:{color:"#5C4033"},children:"Discover amazing events and competitions at Savishkar Techfest"})]})})}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-12 py-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"relative w-full",children:[e.jsx(i,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5",style:{color:"#FA812F"}}),e.jsx("input",{type:"text",placeholder:"Search events...",value:d,onChange:e=>x(e.target.value),className:"input-field w-full pl-12"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"#5C4033"},children:"Category"}),e.jsx("div",{className:"flex gap-2 sm:gap-3 overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0",children:["All","Technical","Non-Technical","Cultural"].map(s=>e.jsx("button",{onClick:()=>y(s),className:"px-4 sm:px-6 py-2 sm:py-2.5 rounded-xl font-semibold whitespace-nowrap transition-all text-sm sm:text-base flex-shrink-0 "+(h===s?"btn-primary":""),style:h===s?{}:{backgroundColor:"rgba(255, 255, 255, 0.8)",border:"2px solid rgba(92, 64, 51, 0.3)",color:"#5C4033"},children:s},s))})]})]})}),e.jsx("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c?e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2",style:{borderColor:"#FA812F"}})}):0===b.length?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("img",{src:"/glow.png",alt:"Savishkar Logo",className:"w-32 h-32 mx-auto mb-4 object-contain opacity-40"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",style:{color:"#5C4033",fontFamily:"Georgia, serif"},children:"No events found"}),e.jsx("p",{style:{color:"#5C4033"},children:"Try adjusting your search or filters"})]}):e.jsx("div",{className:"space-y-12 py-8",children:N.map(t=>e.jsxs("div",{children:[e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:e.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"#5C4033",fontFamily:"Georgia, serif"},children:t})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:v[t].map((s,t)=>e.jsx(p,{event:s,index:t},s._id))})]},t))})})]})},p=({event:t,index:l})=>e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*l},whileHover:{y:-5},className:"card group transition-all duration-300",children:[e.jsxs("div",{className:"relative h-48 -mx-6 -mt-6 mb-4 overflow-hidden rounded-t-2xl",style:{backgroundColor:"rgba(250, 177, 47, 0.1)"},children:[t.image?e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform group-hover:scale-110",onError:e=>{e.target.src="https://via.placeholder.com/400x300/FAB12F/5C4033?text="+encodeURIComponent(t.name)},onLoad:()=>{}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{background:"linear-gradient(to bottom right, #FAB12F, #FA812F)"},children:e.jsx("img",{src:"/glow.png",alt:"Savishkar Logo",className:"w-20 h-20 object-contain"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[e.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full",style:{background:"linear-gradient(to right, #5C4033, #8b4513)",color:"#FEF3E2"},children:t.category}),t.department&&e.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full",style:{background:"linear-gradient(to right, #FA812F, #FAB12F)",color:"#FEF3E2"},children:t.department})]}),t.isFeatured&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold rounded-full flex items-center",style:{background:"linear-gradient(to right, #FA812F, #DD0303)",color:"#FEF3E2"},children:[e.jsx("img",{src:"/glow.png",alt:"Featured",className:"w-4 h-4 mr-1 object-contain"}),"Featured"]})})]}),e.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#1a365d",fontFamily:"Georgia, serif"},children:t.name}),e.jsx("p",{className:"text-sm mb-4 line-clamp-2",style:{color:"#5C4033"},children:t.shortDescription||t.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm",style:{color:"#5C4033"},children:[e.jsx(n,{className:"w-4 h-4 mr-2",style:{color:"#FA812F"}}),new Date(t.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})," â€¢ ",t.time]}),e.jsxs("div",{className:"flex items-center text-sm",style:{color:"#5C4033"},children:[e.jsx(c,{className:"w-4 h-4 mr-2",style:{color:"#FA812F"}}),t.venue]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center",style:{color:"#5C4033"},children:[e.jsx(m,{className:"w-4 h-4 mr-2",style:{color:"#FA812F"}}),t.currentParticipants,"/",t.maxParticipants]}),e.jsxs("div",{className:"flex items-center font-semibold",style:{color:"#1a365d"},children:[e.jsx(d,{className:"w-4 h-4"}),0===t.registrationFee?"Free":t.registrationFee]})]})]}),e.jsx(a,{to:`/events/${t._id}`,className:"block w-full btn-primary text-center",children:"View Details"})]});export{x as default};
